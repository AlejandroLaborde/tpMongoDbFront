{"version":3,"sources":["webpack:///src/app/modelos/file-for-upload.ts","webpack:///src/app/pages/listado-realtime/listado-realtime.component.ts","webpack:///src/app/pages/listado-realtime/listado-realtime.component.html","webpack:///src/environments/environment.ts","webpack:///src/app/pages/chat-firestore/chat-firestore.component.ts","webpack:///src/app/pages/chat-firestore/chat-firestore.component.html","webpack:///src/app/componentes/form-subir-archivos/form-subir-archivos.component.ts","webpack:///src/app/componentes/form-subir-archivos/form-subir-archivos.component.html","webpack:///src/app/servicios/firebase/file-upload.service.ts","webpack:///src/app/servicios/mensajes-realtime.service.ts","webpack:///src/app/pages/listado-firestore/listado-firestore.component.ts","webpack:///src/app/pages/listado-firestore/listado-firestore.component.html","webpack:///src/app/app.component.ts","webpack:///src/app/app.component.html","webpack:///src/app/modelos/mensajes.ts","webpack:///src/app/servicios/mensajes-firestore.service.ts","webpack:///src/app/app.module.ts","webpack:///src/app/pages/tickets/tickets.component.ts","webpack:///src/app/pages/tickets/tickets.component.html","webpack:///src/app/servicios/ticket.service.ts","webpack:///src/app/app-routing.module.ts","webpack:///src/main.ts","webpack:///$_lazy_route_resource lazy namespace object"],"names":["FileForUpload","file","ListadoRealtimeComponent","servicioRealTime","currentIndex","title","cargarMensajes","getAll","snapshotChanges","pipe","changes","map","c","key","payload","val","subscribe","data","listadoMensajes","environment","production","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","ChatFirestoreComponent","servicioFirestore","nuevoMensaje","create","then","console","log","EnviarMensaje","FormSubirArchivosComponent","uploadService","percentage","event","selectedFiles","target","files","item","undefined","currentFileUpload","pushFileToStorage","Math","round","error","selectFile","upload","FileUploadService","db","storage","basePath","fileUpload","filePath","name","storageRef","ref","uploadTask","getDownloadURL","downloadURL","url","saveFileData","percentageChanges","list","push","numberItems","limitToLast","deleteFileDatabase","deleteFileStorage","remove","child","MensajesRealtimeService","dbPath","MensajesRef","unMensajes","value","update","ListadoFirestoreComponent","serviceFirestore","doc","AppComponent","unMensaje","Mensajes","id","usuario","mensaje","estado","MensajesFirestoreService","collection","mensajes","add","AppModule","initializeApp","TicketsComponent","ticketService","respuesta","expandido","selectedOptionType","ultimaEjecucion","descripcion","link","botones","parametros","typo","dateTo","dateFrom","Object","prototype","hasOwnProperty","call","i","boton","callMethod","datos","response","params","set","toString","length","TicketService","http","path","param","get","headers","routes","redirectTo","pathMatch","component","AppRoutingModule","forRoot","bootstrapModule","err","webpackEmptyAsyncContext","req","Promise","resolve","e","Error","code","keys","module","exports"],"mappings":"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","file":"main-es5.js","sourcesContent":["export class FileForUpload {\n    key!: string;\n    name!: string;\n    url!: string;\n    file: File;\n  \n    constructor(file: File) {\n      this.file = file;\n    }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { Mensajes } from \"./../../modelos/mensajes\";\nimport { MensajesRealtimeService } from 'src/app/servicios/mensajes-realtime.service';\nimport { map } from 'rxjs/operators';\n@Component({\n  selector: 'app-listado-realtime',\n  templateUrl: './listado-realtime.component.html',\n  styleUrls: ['./listado-realtime.component.css']\n})\nexport class ListadoRealtimeComponent implements OnInit {\n\n  listadoMensajes?: any[];\n  mensajeActual?: Mensajes;\n  currentIndex = -1;\n  title = '';\n  constructor(private servicioRealTime:MensajesRealtimeService) { }\n\n  ngOnInit(): void {\n    this.cargarMensajes();\n  }\n\n  cargarMensajes(): void {\n    this.servicioRealTime.getAll().snapshotChanges().pipe(\n      map(changes =>\n        changes.map(c =>\n          ({ key: c.payload.key, ...c.payload.val() })\n        )\n      )\n    ).subscribe(data => {\n      this.listadoMensajes = data;\n    });\n  }\n}\n","<p>listado Real Time!</p>\n<ul class=\"list-group\">\n    <li\n      class=\"list-group-item\"\n      *ngFor=\"let mensaje of listadoMensajes; let i = index\"\n      [class.active]=\"i == currentIndex\"\n      \n    >\n      {{ mensaje.mensaje }}\n    </li>\n  </ul>\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false,\n  firebaseConfig : {\n    apiKey: \"AIzaSyDqqYnxSs9petOE_RJ1wFG_TNhxdbzdhfA\",\n    authDomain: \"mongodbfront.firebaseapp.com\",\n    projectId: \"mongodbfront\",\n    storageBucket: \"mongodbfront.appspot.com\",\n    messagingSenderId: \"925609533703\",\n    appId: \"1:925609533703:web:375efc7fafb3459ea3e5a2\"\n  }\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { Component, OnInit } from '@angular/core';\nimport { MensajesFirestoreService } from 'src/app/servicios/mensajes-firestore.service';\nimport { Mensajes } from \"./../../modelos/mensajes\";\nimport { MensajesRealtimeService } from 'src/app/servicios/mensajes-realtime.service';\n\n\n@Component({\n  selector: 'app-chat-firestore',\n  templateUrl: './chat-firestore.component.html',\n  styleUrls: ['./chat-firestore.component.css']\n})\nexport class ChatFirestoreComponent implements OnInit {\n  nuevoMensaje: Mensajes;\n  constructor(private servicioFirestore:MensajesFirestoreService,private servicioRealTime:MensajesRealtimeService) {\n    this.nuevoMensaje = new Mensajes();\n  }\n\n  ngOnInit(): void {\n  }\n  EnviarMensaje() {\n    this.servicioFirestore.create(this.nuevoMensaje).then(()=>{\n      console.log(\"se envio el mensaje Fire\");\n    });\n    this.servicioRealTime.create(this.nuevoMensaje).then(()=>{\n      console.log(\"se envio el mensaje RealTime\");\n    });\n\n  }\n}\n","<p>Solo enviar mensaje</p>\n<input type=\"text\" [(ngModel)]=\"nuevoMensaje.mensaje\">\n<button (click)=\"EnviarMensaje()\">Enviar</button>\n<app-form-subir-archivos></app-form-subir-archivos>","import { Component, OnInit } from '@angular/core';\nimport { FileUploadService } from '../../servicios/firebase/file-upload.service';\nimport { FileForUpload } from '../../modelos/file-for-upload';\n\n@Component({\n  selector: 'app-form-subir-archivos',\n  templateUrl: './form-subir-archivos.component.html',\n  styleUrls: ['./form-subir-archivos.component.css']\n})\n\nexport class FormSubirArchivosComponent implements OnInit {\n  selectedFiles?: FileList;\n  currentFileUpload?: FileForUpload;\n  percentage = 0;\n\n  constructor(private uploadService: FileUploadService) { }\n\n  ngOnInit(): void {\n  }\n\n  selectFile(event: any): void {\n    this.selectedFiles = event.target.files;\n  }\n\n  upload(): void {\n    if (this.selectedFiles) {\n      const file: File | null = this.selectedFiles.item(0);\n      this.selectedFiles = undefined;\n\n      if (file) {\n        this.currentFileUpload = new FileForUpload(file);\n        this.uploadService.pushFileToStorage(this.currentFileUpload).subscribe(\n          percentage => {\n            this.percentage = Math.round(percentage ? percentage : 0);\n          },\n          error => {\n            console.log(error);\n          }\n        );\n      }\n    }\n\n  }\n}","<label>\n    <input\n      type=\"file\"\n      class=\"text-nowrap text-truncate\"\n      (change)=\"selectFile($event)\"\n    />\n  </label>\n  \n  <button\n    class=\"btn btn-success btn-sm\"\n    [disabled]=\"!selectedFiles\"\n    (click)=\"upload()\"\n  >\n    Upload\n  </button>\n  \n  <div *ngIf=\"currentFileUpload\" class=\"progress mt-2\">\n    <div\n      class=\"progress-bar progress-bar-info\"\n      role=\"progressbar\"\n      attr.aria-valuenow=\"{{ percentage }}\"\n      aria-valuemin=\"0\"\n      aria-valuemax=\"100\"\n      [ngStyle]=\"{ width: percentage + '%' }\"\n    >\n      {{ percentage }}%\n    </div>\n  </div>","  \n\n\n import { Injectable } from '@angular/core';\nimport { AngularFireDatabase, AngularFireList } from '@angular/fire/database';\nimport { AngularFireStorage } from '@angular/fire/storage';\n\nimport { Observable } from 'rxjs';\nimport { finalize } from 'rxjs/operators';\nimport { FileForUpload } from '../../modelos/file-for-upload';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class FileUploadService {\n  private basePath = '/uploads';\n\n  constructor(private db: AngularFireDatabase, private storage: AngularFireStorage) { }\n\n  pushFileToStorage(fileUpload: FileForUpload): Observable<number | undefined> {\n    const filePath = `${this.basePath}/${fileUpload.file.name}`;\n    const storageRef = this.storage.ref(filePath);\n    const uploadTask = this.storage.upload(filePath, fileUpload.file);\n\n    uploadTask.snapshotChanges().pipe(\n      finalize(() => {\n        storageRef.getDownloadURL().subscribe(downloadURL => {\n          fileUpload.url = downloadURL;\n          fileUpload.name = fileUpload.file.name;\n          this.saveFileData(fileUpload);\n        });\n      })\n    ).subscribe();\n\n    return uploadTask.percentageChanges();\n  }\n\n  private saveFileData(fileUpload: FileForUpload): void {\n    this.db.list(this.basePath).push(fileUpload);\n  }\n\n  getFiles(numberItems: number): AngularFireList<FileForUpload> {\n    return this.db.list(this.basePath, ref =>\n      ref.limitToLast(numberItems));\n  }\n\n  deleteFile(fileUpload: FileForUpload): void {\n    this.deleteFileDatabase(fileUpload.key)\n      .then(() => {\n        this.deleteFileStorage(fileUpload.name);\n      })\n      .catch(error => console.log(error));\n  }\n\n  private deleteFileDatabase(key: string): Promise<void> {\n    return this.db.list(this.basePath).remove(key);\n  }\n\n  private deleteFileStorage(name: string): void {\n    const storageRef = this.storage.ref(this.basePath);\n    storageRef.child(name).delete();\n  }\n}","import { Injectable } from '@angular/core';\nimport { AngularFireDatabase, AngularFireList } from '@angular/fire/database';\nimport { Mensajes } from '../modelos/mensajes';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class MensajesRealtimeService {\n\n  private dbPath = '/MensajesReal';\n\n  MensajesRef: AngularFireList<Mensajes>;\n\n  constructor(private db: AngularFireDatabase) {\n    this.MensajesRef = db.list(this.dbPath);\n  }\n\n  getAll(): AngularFireList<Mensajes> {\n    return this.MensajesRef;\n  }\n\n  create(unMensajes: Mensajes): any {\n    return this.MensajesRef.push(unMensajes);\n  }\n\n  update(key: string, value: any): Promise<void> {\n    return this.MensajesRef.update(key, value);\n  }\n\n  delete(key: string): Promise<void> {\n    return this.MensajesRef.remove(key);\n  }\n\n  deleteAll(): Promise<void> {\n    return this.MensajesRef.remove();\n  }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { MensajesFirestoreService } from 'src/app/servicios/mensajes-firestore.service';\nimport { Mensajes } from \"./../../modelos/mensajes\";\nimport { map } from 'rxjs/operators';\nimport { Observable } from 'rxjs';\n@Component({\n  selector: 'app-listado-firestore',\n  templateUrl: './listado-firestore.component.html',\n  styleUrls: ['./listado-firestore.component.css']\n})\nexport class ListadoFirestoreComponent implements OnInit {\n\n  listadoMensajes?: Mensajes[];\n  currentTutorial?: Mensajes;\n  currentIndex = -1;\n  title = '';\n  \n\n  constructor(private serviceFirestore: MensajesFirestoreService) {\n   serviceFirestore.getAll().snapshotChanges().pipe(\n    map(changes =>\n      changes.map(c =>\n        ({  ...c.payload.doc.data() })\n      )\n    )\n  ).subscribe(data=>{\n      this.listadoMensajes=data;\n    });\n   }\n\n  ngOnInit(): void {\n  }\n\n}\n","<p>listado Fire store!</p>\n    <ul class=\"list-group\">\n        <li\n          class=\"list-group-item\"\n          *ngFor=\"let mensaje of listadoMensajes; let i = index\"\n          [class.active]=\"i == currentIndex\"\n         \n        >\n          {{ mensaje.mensaje }}\n        </li>\n      </ul>","import { Component } from '@angular/core';\nimport { MensajesFirestoreService } from 'src/app/servicios/mensajes-firestore.service';\nimport {Mensajes} from 'src/app/modelos/mensajes';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  title = 'angular-firebase-firestore2021';\n  unMensaje:Mensajes= new Mensajes();\n}\n","\n<div>\n  <nav class=\"navbar navbar-expand navbar-dark bg-dark\">\n    <a href=\"#\" class=\"navbar-brand\">Ticketera</a>\n    <div class=\"navbar-nav mr-auto\">\n     \n    </div>\n  </nav>\n  <div class=\"container mt-3\">\n    <router-outlet></router-outlet>\n  </div>\n</div>\n\n","export class Mensajes {\n  id: string=\"\";\n  usuario: string=\"\";\n  mensaje: string=\"\";\n  estado = false;\n}\n","import { Injectable } from '@angular/core';\nimport { AngularFirestore, AngularFirestoreCollection } from '@angular/fire/firestore';\nimport { Mensajes } from '../modelos/mensajes';\n@Injectable({\n  providedIn: 'root'\n})\nexport class MensajesFirestoreService {\n\n  private dbPath = '/mensajesFire';\n\n  MensajesRef: AngularFirestoreCollection<Mensajes>;\n\n  constructor(private db: AngularFirestore) {\n    this.MensajesRef = db.collection(this.dbPath);\n  }\n\n  getAll(): AngularFirestoreCollection<Mensajes> {\n    return this.MensajesRef;\n  }\n\n  create(mensajes: Mensajes): any {\n    return this.MensajesRef.add({ ...mensajes });\n  }\n\n  update(id: string, data: any): Promise<void> {\n    return this.MensajesRef.doc(id).update(data);\n  }\n\n  delete(id: string): Promise<void> {\n    return this.MensajesRef.doc(id).delete();\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { BrowserModule } from '@angular/platform-browser';\n\nimport { AngularFireModule } from '@angular/fire';\nimport { AngularFirestoreModule } from '@angular/fire/firestore';\nimport { environment } from '../environments/environment';\nimport { HttpClientModule } from '@angular/common/http';\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport { ChatFirestoreComponent } from './pages/chat-firestore/chat-firestore.component';\nimport { ListadoFirestoreComponent } from './pages/listado-firestore/listado-firestore.component';\nimport { ListadoRealtimeComponent } from './pages/listado-realtime/listado-realtime.component';\nimport { FormSubirArchivosComponent } from './componentes/form-subir-archivos/form-subir-archivos.component';\nimport { TicketsComponent } from './pages/tickets/tickets.component';\nimport { NgxJsonViewerModule } from 'ngx-json-viewer';\n\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    ChatFirestoreComponent,\n    ListadoFirestoreComponent,\n    ListadoRealtimeComponent,\n    FormSubirArchivosComponent,\n    \n    TicketsComponent\n  ],\n  imports: [\n    BrowserModule,\n    AppRoutingModule,\n    FormsModule,\n    NgxJsonViewerModule,\n    AngularFireModule.initializeApp(environment.firebaseConfig),\n    HttpClientModule\n    \n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import { HttpParams } from '@angular/common/http';\nimport { Component, OnInit } from '@angular/core';\nimport { TicketService } from 'src/app/servicios/ticket.service';\n\n@Component({\n  selector: 'app-tickets',\n  templateUrl: './tickets.component.html',\n  styleUrls: ['./tickets.component.css']\n})\nexport class TicketsComponent implements OnInit {\n\n  public respuesta:any = \"...\";\n  public expandido = false;\n  public selectedOptionType = \"Select type\"\n  public ultimaEjecucion = {descripcion:null,link:null}\n  public dateTo:any;\n  public dateFrom:any;\n  constructor( private ticketService: TicketService ) { }\n\n  ngOnInit(): void {\n\n    var parametros = {typo: \"sasdas\", dateTo:\"2021\", dateFrom:\"asd\"}\n    for (const key in parametros) {\n      if (Object.prototype.hasOwnProperty.call(parametros, key)) {\n        console.log(key)\n        const i :string = key + \"\";\n        console.log( parametros['dateFrom'] )\n      }\n    }\n\n   \n  }\n\n\n  botones=[\n    {\n      descripcion:\"Obtener Todos los tickets\",\n      link: \"/\",\n    },\n    {\n      descripcion:\"Cada cuanto y que desperfecto\",\n      link: \"cadaCuanto\",\n    },\n    {\n      descripcion:\"Obtiene los tickets por tipo\",\n      link:\"type\",\n    },\n    {\n      descripcion:\"Que usuario atiende mas tickets\",\n      link:\"AtiendeMasTickets\",\n    },\n    {\n      descripcion:\"Horas en las que hay mas trabajo\",\n      link:\"findHoraMasTrabajo\",\n    },\n    {\n      descripcion:\"Tickets Cerrados\",\n      link:\"findClosedTickets\",\n    },\n    {\n      descripcion:\"Tickets Abiertos\",\n      link:\"findOpenTickets\",\n    },\n    {\n      descripcion:\"Que centros atienden por zona\",\n      link:\"findCentroAtencionPorZona\",\n    },\n    {\n      descripcion:\"Cliente que genera mas tickets\",\n      link:\"findClienteMasTickets\",\n    },\n    {\n      descripcion:\"Clientes con tickets pendientes\",\n      link:\"findClienteTicketsPendientes\",\n    },\n    {\n      descripcion:\"Empleado que genero tickets\",\n      link:\"findEmpleadoTicket\",\n    }\n\n  ]\n\n  traerResultado(boton : any){\n    this.ticketService.callMethod(boton.link).then((datos : any)=>{\n      datos.subscribe((response:any)=>{\n        this.dateFrom = undefined;\n        this.dateTo = undefined;\n        this.ultimaEjecucion = boton;\n        this.respuesta = response\n      })\n    });\n  }\n\n  getTicketTypeParametros(){\n    const params = new HttpParams().set(\"type\",this.selectedOptionType).set(\"dateTo\",this.dateTo.toString()).set(\"dateFrom\",this.dateFrom.toString());\n    this.ticketService.callMethod(this.ultimaEjecucion.link, params).then((datos : any)=>{\n      datos.subscribe((response:any)=>{\n        if(response.length == 0){\n          this.respuesta = \"...\";\n        }else{\n          this.respuesta = response\n        }\n      })\n    });\n  }\n\n  filtrarPorFechas(){\n    const params = new HttpParams().set(\"dateTo\",this.dateTo.toString()).set(\"dateFrom\",this.dateFrom.toString());\n    this.ticketService.callMethod(this.ultimaEjecucion.link, params).then((datos : any)=>{\n      datos.subscribe((response:any)=>{\n        if(response.length == 0){\n          this.respuesta = \"...\";\n        }else{\n          this.respuesta = response\n        }\n      })\n    });\n  }\n\n  \n\n  changeExpand(){\n    this.expandido = !this.expandido;\n  }\n\n\n}\n","\n<div style=\"display: flex;\">\n\n    <table>\n        <td>\n            <div  style=\"display: grid;margin: 20px;\">\n                <button style=\"margin: 5px; width: 250px;\" type=\"button\" class=\"btn btn-primary\"  *ngFor='let boton of botones' (click)=\"traerResultado(boton)\">{{boton.descripcion}}</button>\n            </div>\n        </td>\n        <td>\n            <div style=\"display: flex;\">\n                <h1>Respuestas</h1>\n                <button style=\"margin: 10px;\" class=\"btn btn-secondary\" (click)=\"changeExpand()\" *ngIf=\"!this.expandido\">Expandir Todo</button>\n                <button style=\"margin: 10px;\" class=\"btn btn-danger\" (click)=\"changeExpand()\" *ngIf=\"this.expandido\">Contraer todo</button>\n                \n                <select *ngIf=\"this.ultimaEjecucion.link == 'type'\"  [(ngModel)]=\"selectedOptionType\" (change)=\"getTicketTypeParametros()\" style=\"margin: 10px;\"  class=\"form-select\" aria-label=\"Default select example\">\n                    <option selected>Select type</option>\n                    <option value=\"all\">all</option>\n                    <option value=\"desperfecto\">desperfecto</option>\n                    <option value=\"cambioPlan\">cambioPlan</option>\n                    <option value=\"baja\">baja</option>\n                    <option value=\"alta\">alta</option>\n                </select>\n            </div>\n            <div *ngIf=\"this.ultimaEjecucion.link == 'type'\"  style=\"margin: 5px;display: flex; align-items: center;\">\n                <h6>Date From</h6>\n                <input (change)=\"getTicketTypeParametros()\" [(ngModel)]=\"dateFrom\" type=\"datetime-local\" id=\"birthdaytime\" name=\"birthdaytime\">\n                <h6>Date To</h6>\n                <input (change)=\"getTicketTypeParametros()\" [(ngModel)]=\"dateTo\" type=\"datetime-local\" id=\"birthdaytime\" name=\"birthdaytime\">\n            </div>\n\n            <div *ngIf=\"this.ultimaEjecucion.link == '/' || this.ultimaEjecucion.link == 'cadaCuanto' || this.ultimaEjecucion.link == 'findClosedTickets' || this.ultimaEjecucion.link == 'findOpenTickets' \" style=\"margin: 5px;display: flex; align-items: center;\">\n                <h6>Date From</h6>\n                <input (change)=\"filtrarPorFechas()\" [(ngModel)]=\"dateFrom\" type=\"datetime-local\" id=\"birthdaytime\" name=\"birthdaytime\">\n                <h6>Date To</h6>\n                <input (change)=\"filtrarPorFechas()\" [(ngModel)]=\"dateTo\" type=\"datetime-local\" id=\"birthdaytime\" name=\"birthdaytime\">\n            </div>\n\n        \n            <div *ngIf=\"!(respuesta =='...')\" style=\"padding: 5px ;border: double;max-width: 1000px;\" class=\"overflow-auto\">\n                <ngx-json-viewer  [expanded]=\"this.expandido\" [json]=\"this.respuesta\"></ngx-json-viewer>\n            </div>\n            <div  *ngIf=\"(respuesta =='...')\" class=\"alert alert-danger\" role=\"alert\">\n                No se encontraron resultados\n              </div>\n        </td>\n    </table>\n   \n    \n   \n\n</div>\n  \n","import { Injectable } from '@angular/core';\nimport { HttpClient, HttpHeaders, HttpParams } from '@angular/common/http';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class TicketService {\n\n  private url=\"https://tp-mongodb.herokuapp.com/ticket/\";\n  constructor( private http: HttpClient ) { }\n\n\n  async callMethod( path:any , param?:HttpParams ){\n\n    if(param){    \n      return await this.http.get(this.url + path , {params:param} )\n    }\n    return await this.http.get(this.url + path )\n  }\n\n  async callMethodWithParams( path:any , params: any[]){\n    console.log(this.url)\n    let headers = new HttpHeaders();\n    let parametros = new HttpParams();\n    \n    return await this.http.get(this.url + path , { headers: headers, params: parametros } )\n  }\n\n\n\n\n}\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { ChatFirestoreComponent } from './pages/chat-firestore/chat-firestore.component';\nimport { ListadoFirestoreComponent } from './pages/listado-firestore/listado-firestore.component';\nimport { ListadoRealtimeComponent } from './pages/listado-realtime/listado-realtime.component';\nimport { TicketsComponent } from './pages/tickets/tickets.component';\n\nconst routes: Routes = [\n  { path: '', redirectTo: 'operacionesTicket', pathMatch: 'full' },\n  { path: 'chat', component: ChatFirestoreComponent },\n  { path: 'listadoFireStore', component: ListadoFirestoreComponent },\n  { path: 'listadoRealtime', component: ListadoRealtimeComponent },\n  { path: 'operacionesTicket', component: TicketsComponent },\n \n];\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";"]}